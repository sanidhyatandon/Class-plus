{"map":{"version":3,"sources":["static/js/main.203c0e30.chunk.js"],"names":["this","push","22","module","exports","__webpack_require__","27","28","29","35","36","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","classCallCheck","createClass","inherits","createSuper","react_router_dom","react_router","slicedToArray","objectSpread2","defaultValues","retry","interval","timeout","appPath","apiKey","api_config","getPhotos","Object","url","concat","getImage","searchPhotos","common_Modal","props","children","isClose","handleModalClose","a","createPortal","createElement","className","role","aria-modal","aria-labelledby","onClick","document","getElementById","common_TextInput","classname","handleSearch","type","onChange","src_components_Photos","ref","_ref","_ref$photoList","photoList","_ref$photoList$photos","photos","_ref$photoList$photos2","photo","isOpen","onPhotoClick","onModalClose","_ref2","photoClickData","id","server","secret","title","getImageURL","map","_ref3","key","src","alt","event","throttle","func","limit","inThrottle","context","undefined","_len2","arguments","length","args","Array","_key2","apply","setTimeout","containers_Photos","_useState","_useState2","setPhotos","_useState3","_useState4","searchTerm","setSearchTerm","_useState5","_useState6","setIsOpen","_useState7","_useState8","page","setPage","_useState9","_useState10","setpPhotoClickData","resultsRef","handleScroll","current","window","pageYOffset","innerHeight","clientHeight","outerHeight","addEventListener","removeEventListener","getPhotosURL","fetch","then","response","json","catch","error","console","log","debouncedCount","wait","immediate","_this","_len","_key","later","callNow","clearTimeout","debounce","searchPhotosURL","target","value","data","routing","exact","path","component","esm_history","App_history","src_App","_Component","App","_super","history","Boolean","location","hostname","match","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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"},"code":"(this[\"webpackJsonpblue-stacks\"]=this[\"webpackJsonpblue-stacks\"]||[]).push([[0],{22:function(e,t,n){e.exports=n(36)},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){\"use strict\";n.r(t);var a=n(0),c=n.n(a),o=n(10),r=n.n(o),l=(n(27),n(17)),i=n(18),s=n(21),u=n(20),h=n(12),m=n(1),f=n(8),d=n(7),p={retry:0,interval:0,timeout:2e3},v=\"https://www.flickr.com/services/rest/\",b=\"83a1eebf8fe298813824d11d885af847\",g={getPhotos:Object(d.a)(Object(d.a)({},p),{},{url:\"\".concat(v,\"?method=flickr.photos.getRecent&api_key=\").concat(b)}),getImage:Object(d.a)(Object(d.a)({},p),{},{url:\"https://live.staticflickr.com\"}),searchPhotos:Object(d.a)(Object(d.a)({},p),{},{url:\"\".concat(v,\"?method=flickr.photos.search&api_key=\").concat(b)})},j=(n(28),function(e){var t=e.children,n=e.isClose,a=e.handleModalClose;return r.a.createPortal(c.a.createElement(\"aside\",{className:\"modal\",role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"modal-heading\"},c.a.createElement(\"div\",{className:\"theme\"}),c.a.createElement(\"div\",{className:\"modal-content-wrapper\"},c.a.createElement(\"div\",{className:\"modal-container\"},t)),n&&c.a.createElement(\"button\",{className:\"close-button\",onClick:a},\"x\")),document.getElementById(\"modal\"))}),E=function(e){var t=e.classname,n=e.handleSearch;return c.a.createElement(\"input\",{className:t,type:\"text\",onChange:n})},O=(n(29),Object(a.forwardRef)((function(e,t){var n=e||{},a=n.photoList,o=(a=void 0===a?{}:a).photos,r=(o=void 0===o?{}:o).photo,l=void 0===r?[]:r,i=n.isOpen,s=n.handleSearch,u=n.onPhotoClick,h=n.onModalClose,m=n.photoClickData||{},f=m.id,d=m.server,p=m.secret,v=m.title,b=g.getImage.url;return c.a.createElement(\"div\",{className:\"photos-container\"},c.a.createElement(\"div\",{className:\"photo-search-container\"},c.a.createElement(\"h2\",{className:\"photo-list-heading\"},\"Search Photos\"),c.a.createElement(E,{classname:\"photo-search-input\",handleSearch:s})),c.a.createElement(\"div\",{className:\"photo-results\",ref:t},c.a.createElement(\"ul\",null,l.map((function(e){var t=e.id,n=e.server,a=e.secret,o=e.title;return c.a.createElement(\"li\",{key:t},c.a.createElement(\"img\",{className:\"photo-img\",src:\"\".concat(b,\"/\").concat(n,\"/\").concat(t,\"_\").concat(a,\"_w.jpg}\"),alt:o,onClick:function(e){return u(e,{id:t,server:n,secret:a,title:o})}}))}))),i&&c.a.createElement(j,{isClose:!0,handleModalClose:h},c.a.createElement(\"img\",{className:\"photo-img\",src:\"\".concat(b,\"/\").concat(d,\"/\").concat(f,\"_\").concat(p,\"_w.jpg}\"),alt:v}))))})));var w=function(e,t){var n;return function(){var a=void 0;if(!n){for(var c=arguments.length,o=new Array(c),r=0;r<c;r++)o[r]=arguments[r];e.apply(a,o),n=!0,setTimeout((function(){n=!1}),t)}}},k=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(\"\"),l=Object(f.a)(r,2),i=l[0],s=l[1],u=Object(a.useState)(!1),h=Object(f.a)(u,2),m=h[0],d=h[1],p=Object(a.useState)(1),v=Object(f.a)(p,2),b=v[0],j=v[1],E=Object(a.useState)([]),k=Object(f.a)(E,2),y=k[0],C=k[1],N=Object(a.useRef)(null),S=function(){N.current&&window.pageYOffset+window.innerHeight>N.current.clientHeight-.3*window.outerHeight&&j((function(e){return e+1}))};Object(a.useEffect)((function(){return N.current.addEventListener(\"scroll\",w(S,1e3)),function(){return window.removeEventListener(\"scroll\",w(S,1e3))}}),[]),Object(a.useEffect)((function(){var e=g.getPhotos.url;fetch(\"\".concat(e,\"&per_page=10&page=\").concat(b,\"&format=json&nojsoncallback=1\")).then((function(e){return e.json()})).then((function(e){return o(e)})).catch((function(e){return console.log(e)}))}),[b]);var P=Object(a.useCallback)(function(e,t,n){var a,c=this;return function(){for(var o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];var i=c,s=function(){a=null,n||e.apply(i,r)},u=n&&!a;clearTimeout(a),a=setTimeout(s,t),u&&e.apply(i,r)}}((function(){var e=g.searchPhotos.url;console.log(i,\"searchTerm\"),fetch(\"\".concat(e,\"&per_page=10&text=\").concat(i,\"&format=json&nojsoncallback=1\")).then((function(e){return e.json()})).then((function(e){return o(e)})).catch((function(e){return console.log(e)}))}),1e3),[i]);Object(a.useEffect)((function(){var e=g.getPhotos.url;fetch(\"\".concat(e,\"&per_page=10&page=\").concat(b,\"&format=json&nojsoncallback=1\")).then((function(e){return e.json()})).then((function(e){return o(e)})).catch((function(e){return console.log(e)}))}),[b]);return c.a.createElement(\"div\",null,c.a.createElement(\"div\",{className:\"photo-list\"},c.a.createElement(O,{ref:N,photoList:n,isOpen:m,handleSearch:function(e){s(e.target.value),i.length>=3&&P()},onPhotoClick:function(e,t){d((function(e){return!e})),C(t)},onModalClose:function(){d(!1)},photoClickData:y})))},y=c.a.createElement(m.c,null,c.a.createElement(m.a,{exact:!0,path:\"/\",component:k})),C=n(3),N=(n(35),Object(C.a)()),S=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:\"render\",value:function(){return c.a.createElement(h.a,{history:N},y)}}]),n}(a.Component);Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(a.StrictMode,null,c.a.createElement(S,null)),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[22,1,2]]]);","extractedComments":[]}